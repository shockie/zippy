<html>
	<head>
		<title></title>
		<link rel="stylesheet" type="text/css" href="static/css/default.css"/>
		<script type="text/javascript" src="../lib/zepto.js"></script>
		<script type="text/javascript" src="../lib/mustache.js"></script>
		<script type="text/javascript" src="../lib/jade.js"></script>
		<script type="text/javascript" src="../zippy.min.js"></script>
		<script type="text/javascript">
			// Zippy.Template.render = function(template,data){
			// 	return jade.render(template,{
			// 		locals: data
			// 	});
			// }
		</script>
		<script type="text/javascript">
				
		$(document).ready(function(){
			var menu = new Zippy.Controller({
				'/hello': 'onHello'
			},{
				initialize: function(){
					this._menu = new Zippy.View({
						tag: 'nav',
						id: 'nav',
						template: 'static/templates/nav.mustache'
					});
					this._menu.attachTo('body');
					this._menu.display(null,{
						menu: [{url:'#/hello', text:'hello'},{url:'#/test', text:'test'}]
					});
				},
				onHello: function(){
				}
			});
			
			var content = new Zippy.Controller({
				'/hello': 'onHello',
				'/test': 'onTest'
			},{
				initialize: function(){
					this._test = new Zippy.View({
						tag: 'div',
						id: 'test',
						template: 'static/templates/body.mustache'
					});
					this._test.attachTo('body');
					this._test.display(null,{
						text:'index!'
					});
				},
				onHello: function(){
					document.title = 'just say hello!';
					this._test.display(null,{
						text:'hello!'
					});
				},
				onTest: function(){
					document.title = 'test!';
					this._test.display(null,{
						text:'test!'
					});
				}
			});
			var router = new Zippy.Router();
			router.prepare();
		});
		</script>
	</head>
	<body>
	</body>
</html>